---
// @ts-nocheck
import { scrapeComic } from "../services/scraper";

import Layout from "../layouts/Layout.astro";
import ComicCard from "../components/ComicCard.astro";

// Obtener la cadena de consulta de la URL actual

// // Obtener el valor del par√°metro 'nombre'
const comicURL = "https://marvel.fandom.com/wiki/Ultimate_Spider-Man_Vol_1_1";

const comic = await scrapeComic(comicURL);

const {
  imageURL,
  comicTitle,
  releaseDate,
  readDate,
  writers,
  pencilers,
  inkers,
  colorists,
} = comic;

console.log(comic);
// console.log(writersArray);
---

<Layout title="Scraper Demo" referrer="same-origin">
  <ComicCard
    imageURL={imageURL}
    comicTitle={comicTitle}
    comicURL={comicURL}
    releaseDate={releaseDate}
    readDate={readDate}
    writers={writers}
    pencilers={pencilers}
    inkers={inkers}
    colorists={colorists}
  />
</Layout>
